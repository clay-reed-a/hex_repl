<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Learn Hex Codes</title>
	<link rel="stylesheet" type="text/css" href="/lib/styles.css">
</head>
<body>
<section>
	<header>
		<h1>Learn Hex Codes</h1>
		<nav>

		</nav>
	</header>

	<section>
		<h2>The Model</h2>
		<div id="model">
			<div id="red_hex"></div>
			<div id="green_hex"></div>
			<div id="blue_hex"></div>
		</div>
		<input id="input" type="text">
		<button id="button">Enter</button>
	</section>
</section>
<script>

function changeBackground(color, id) {
	document.getElementById(id).style.backgroundColor = color; 
};

function getHexCodeInput() {
	return document.getElementById("input").value;
}; 

// red byte, green byte, blue byte 

function extractHexRed(hex_str) {
	if(hex_str.length == 6){
		return '#' + hex_str.substring(0,2) + "0000";
	} else {
		return '#' + hex_str[0] + "00";
	};
};

function extractHexGreen(hex_str) {
	if(hex_str.length == 6){
		return "#00" + hex_str.substring(2,4) + "00";
	} else {
		return "#0" + hex_str[1] + '0';
	};
};

function extractHexBlue(hex_str) {
	if(hex_str.length == 6){
		return "#0000" + hex_str.substring(4,6);
	} else {
		return "#00" + hex_str[2];
	};
};

var button = document.getElementById("button");
button.onclick = function() {
		var input = getHexCodeInput(); 
		var hexCode = '#' + input; 
		console.log("The Hex Code is: " + hexCode);
		var redness = extractHexRed(input);
		console.log("Redness is: " + redness);
		var greenness = extractHexGreen(input);
		console.log("Greenness is: " + greenness);
		var blueness = extractHexBlue(input);
		console.log("Blueness is: " + blueness); 
		changeBackground(hexCode, "model");
		changeBackground(redness, "red_hex");
		changeBackground(greenness, "green_hex");
		changeBackground(blueness, "blue_hex");
}; 

// so user can use enter key as well as enter button 
document.onkeydown = function() {
	if(window.event.type == "keydown") {
		if(event.charCode == 13 || event.keyCode == 13){
			var input = getHexCodeInput(); 
			var hexCode = '#' + input; 
			console.log("The Hex Code is: " + hexCode);
			var redness = extractHexRed(input);
			console.log("Redness is: " + redness);
			var greenness = extractHexGreen(input);
			console.log("Greenness is: " + greenness);
			var blueness = extractHexBlue(input);
			console.log("Blueness is: " + blueness); 
			changeBackground(hexCode, "model");
			changeBackground(redness, "red_hex");
			changeBackground(greenness, "green_hex");
			changeBackground(blueness, "blue_hex");
		};
	};
};
</script> 
</body>
</html>